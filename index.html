<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="CronFlow - Master your cron expressions with natural language input, real-time validation, and beautiful visualizations. Convert human-readable schedules to cron syntax instantly.">
    <meta name="keywords" content="cron, cron expression, cron generator, scheduler, natural language, cron checker, cron validator">
    <title>CronFlow - Master Your Cron Expressions</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>‚è∞</text></svg>">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;900&family=Orbitron:wght@400;500;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Import map for NPM dependencies -->
    <script type="importmap">
    {
        "imports": {
            "compromise": "./node_modules/compromise/src/three.js",
            "chrono-node": "./node_modules/chrono-node/dist/esm/index.js",
            "efrt": "./node_modules/efrt/src/index.js",
            "grad-school": "./node_modules/grad-school/src/index.js",
            "suffix-thumb": "./node_modules/suffix-thumb/src/index.js"
        }
    }
    </script>
</head>
<body>
    <canvas id="backgroundCanvas"></canvas>
    <div class="container">
        <header class="header">
            <div class="logo">
                <div class="logo-icon-wrapper">
                    <i class="fas fa-clock logo-icon"></i>
                    <div class="logo-glow"></div>
                </div>
                <div class="logo-text-wrapper">
                    <h1 class="logo-text">
                        <span class="logo-letter" style="--i:0">C</span>
                        <span class="logo-letter" style="--i:1">r</span>
                        <span class="logo-letter" style="--i:2">o</span>
                        <span class="logo-letter" style="--i:3">n</span>
                        <span class="logo-letter highlight" style="--i:4">F</span>
                        <span class="logo-letter highlight" style="--i:5">l</span>
                        <span class="logo-letter highlight" style="--i:6">o</span>
                        <span class="logo-letter highlight" style="--i:7">w</span>
                    </h1>
                    <div class="logo-underline"></div>
                </div>
            </div>
            <p class="subtitle">Master your cron expressions with natural language and real-time feedback</p>
            <div class="header-actions">
                <button id="themeToggle" class="header-btn" title="Toggle Dark/Light Mode">
                    <i class="fas fa-moon" id="themeIcon"></i>
                    <span id="themeLabel">Dark</span>
                </button>
                <button id="nlpGuideBtn" class="header-btn" title="Natural Language Guide">
                    <i class="fas fa-brain"></i>
                    <span>NL Guide</span>
                </button>
                <button id="helpBtn" class="header-btn" title="Cron Format Help">
                    <i class="fas fa-question-circle"></i>
                    <span>Help</span>
                </button>
            </div>
        </header>

        <main class="main-content">
            <div class="input-section">
                <div class="input-mode-toggle">
                    <button class="mode-btn active" data-mode="natural" id="naturalModeBtn">
                        <i class="fas fa-comments"></i>
                        Natural Language
                    </button>
                    <button class="mode-btn" data-mode="cron" id="cronModeBtn">
                        <i class="fas fa-code"></i>
                        Cron Expression
                    </button>
                </div>
                
                <div class="input-wrapper">
                    <input 
                        type="text" 
                        id="naturalInput" 
                        placeholder="Try: 'once a month' or '15th of each month' or 'quarterly' or 'every Monday at 3pm'"
                        autocomplete="off"
                        spellcheck="false"
                        class="active-input"
                    >
                    <button class="clear-input-btn" id="clearNaturalBtn" aria-label="Clear input">
                        <i class="fas fa-times"></i>
                    </button>
                    <input 
                        type="text" 
                        id="cronInput" 
                        placeholder="Enter your cron expression (e.g., 0 9 * * 1-5)"
                        autocomplete="off"
                        spellcheck="false"
                        style="display: none;"
                    >
                    <button class="clear-input-btn" id="clearCronBtn" aria-label="Clear input">
                        <i class="fas fa-times"></i>
                    </button>
                    <div class="converted-cron" id="convertedCron" style="display: none;">
                        <span class="converted-label">Cron Expression:</span>
                        <code id="convertedCronCode"></code>
                        <button class="copy-btn" id="copyCronBtn" title="Copy to clipboard">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                    <div class="input-help">
                        <span class="format-hint" id="formatHint">Try: "every 5 minutes", "weekdays at 9am", "on Monday and Friday"</span>
                    </div>
                </div>
            </div>

            <div class="results-section" id="resultsSection">
                <div class="explanation-card" id="explanationCard">
                    <div class="card-header">
                        <i class="fas fa-info-circle"></i>
                        <h3>Explanation</h3>
                    </div>
                    <div class="explanation-content" id="explanationContent">
                        <p class="placeholder-text">Enter a cron expression above to see its explanation</p>
                    </div>
                </div>

                <div class="schedule-card" id="scheduleCard">
                    <div class="card-header">
                        <i class="fas fa-calendar-alt"></i>
                        <h3>Next Executions</h3>
                    </div>
                    <div class="schedule-content" id="scheduleContent">
                        <p class="placeholder-text">Schedule will appear here</p>
                    </div>
                </div>

                <div class="breakdown-card" id="breakdownCard">
                    <div class="card-header">
                        <i class="fas fa-cogs"></i>
                        <h3>Field Breakdown</h3>
                    </div>
                    <div class="breakdown-content" id="breakdownContent">
                        <div class="field-grid">
                            <div class="field-item">
                                <span class="field-label">Minute</span>
                                <span class="field-value" id="minuteField">-</span>
                            </div>
                            <div class="field-item">
                                <span class="field-label">Hour</span>
                                <span class="field-value" id="hourField">-</span>
                            </div>
                            <div class="field-item">
                                <span class="field-label">Day</span>
                                <span class="field-value" id="dayField">-</span>
                            </div>
                            <div class="field-item">
                                <span class="field-label">Month</span>
                                <span class="field-value" id="monthField">-</span>
                            </div>
                            <div class="field-item">
                                <span class="field-label">Weekday</span>
                                <span class="field-value" id="weekdayField">-</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="error-message" id="errorMessage">
                <i class="fas fa-exclamation-triangle"></i>
                <span id="errorText"></span>
            </div>

            <div class="examples-section" id="examplesSection">
                <h3>Try These Examples</h3>
                <div class="examples-grid">
                    <button class="example-btn" data-cron="0 9 * * 1-5">
                        <span class="example-cron">0 9 * * 1-5</span>
                        <span class="example-desc">Every weekday at 9 AM</span>
                    </button>
                    <button class="example-btn" data-cron="0 */2 * * *">
                        <span class="example-cron">0 */2 * * *</span>
                        <span class="example-desc">Every 2 hours</span>
                    </button>
                    <button class="example-btn" data-cron="30 14 * * 0">
                        <span class="example-cron">30 14 * * 0</span>
                        <span class="example-desc">Sundays at 2:30 PM</span>
                    </button>
                    <button class="example-btn" data-cron="0 0 1 * *">
                        <span class="example-cron">0 0 1 * *</span>
                        <span class="example-desc">First day of every month</span>
                    </button>
                    <button class="example-btn" data-cron="*/15 * * * *">
                        <span class="example-cron">*/15 * * * *</span>
                        <span class="example-desc">Every 15 minutes</span>
                    </button>
                    <button class="example-btn" data-cron="0 0 * * 6,0">
                        <span class="example-cron">0 0 * * 6,0</span>
                        <span class="example-desc">Weekends at midnight</span>
                    </button>
                </div>
                
                <div class="natural-examples" id="naturalExamples">
                    <h4>Or try natural language:</h4>
                    <div class="natural-examples-list">
                        <button class="natural-example-btn" data-text="every 5 minutes">every 5 minutes</button>
                        <button class="natural-example-btn" data-text="weekdays at 9am">weekdays at 9am</button>
                        <button class="natural-example-btn" data-text="on Monday and Friday at 3pm">on Monday and Friday at 3pm</button>
                        <button class="natural-example-btn" data-text="once a month">once a month</button>
                        <button class="natural-example-btn" data-text="15th of each month at 2pm">15th of each month at 2pm</button>
                        <button class="natural-example-btn" data-text="every 3 months">every 3 months</button>
                        <button class="natural-example-btn" data-text="once a year on January 1st">once a year on January 1st</button>
                        <button class="natural-example-btn" data-text="quarterly at noon">quarterly at noon</button>
                        <button class="natural-example-btn" data-text="twice a month">twice a month</button>
                        <button class="natural-example-btn" data-text="every 7 days">every 7 days</button>
                    </div>
                </div>
            </div>
        </main>

        <footer class="footer">
            <div class="footer-content">
                <p class="footer-text">
                    <span class="brand-name">CronFlow</span> - Crafted with 
                    <i class="fas fa-heart heart-icon"></i> 
                    for developers
                </p>
                <div class="footer-badge">
                    <i class="fas fa-robot"></i>
                    <span>AI-Powered Natural Language</span>
                </div>
            </div>
        </footer>

        <div class="help-modal" id="helpModal">
            <div class="help-content">
                <div class="help-header">
                    <h3>Cron Expression Format</h3>
                    <button id="closeHelp" class="close-btn">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="help-body">
                    <div class="format-table">
                        <div class="format-row header">
                            <span>Field</span>
                            <span>Allowed Values</span>
                            <span>Special Characters</span>
                        </div>
                        <div class="format-row">
                            <span>Minute</span>
                            <span>0-59</span>
                            <span>* , - /</span>
                        </div>
                        <div class="format-row">
                            <span>Hour</span>
                            <span>0-23</span>
                            <span>* , - /</span>
                        </div>
                        <div class="format-row">
                            <span>Day</span>
                            <span>1-31</span>
                            <span>* , - /</span>
                        </div>
                        <div class="format-row">
                            <span>Month</span>
                            <span>1-12</span>
                            <span>* , - /</span>
                        </div>
                        <div class="format-row">
                            <span>Weekday</span>
                            <span>0-6 (0=Sunday)</span>
                            <span>* , - /</span>
                        </div>
                    </div>
                    <div class="special-chars">
                        <h4>Special Characters</h4>
                        <ul>
                            <li><strong>*</strong> - Any value</li>
                            <li><strong>,</strong> - List separator</li>
                            <li><strong>-</strong> - Range</li>
                            <li><strong>/</strong> - Step values</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- NLP Capabilities Modal -->
        <div class="help-modal" id="nlpModal">
            <div class="help-content nlp-modal-content">
                <div class="help-header">
                    <h3><i class="fas fa-brain" style="color: var(--accent-color); margin-right: 0.5rem;"></i>Natural Language Guide</h3>
                    <button id="closeNlp" class="close-btn">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="help-body">
                    <div class="nlp-section">
                        <h4><i class="fas fa-check-circle" style="color: var(--success-color);"></i> Supported Patterns</h4>
                        
                        <div class="nlp-category">
                            <h5>‚è±Ô∏è Time Intervals</h5>
                            <ul>
                                <li>"every 5 minutes"</li>
                                <li>"every hour"</li>
                                <li>"every couple of hours"</li>
                                <li>"every other day"</li>
                            </ul>
                        </div>

                        <div class="nlp-category">
                            <h5>üìÖ Daily Schedules</h5>
                            <ul>
                                <li>"daily at 3pm"</li>
                                <li>"every day at 9:30am"</li>
                                <li>"business days at 9am"</li>
                            </ul>
                        </div>

                        <div class="nlp-category">
                            <h5>üìÜ Weekly Schedules</h5>
                            <ul>
                                <li>"every Monday"</li>
                                <li>"weekdays at 9am"</li>
                                <li>"Monday to Friday at 9:30am"</li>
                                <li>"every Monday and Friday at 2:30pm"</li>
                            </ul>
                        </div>

                        <div class="nlp-category">
                            <h5>üóìÔ∏è Monthly & Yearly</h5>
                            <ul>
                                <li>"once a month"</li>
                                <li>"15th of each month at 3pm"</li>
                                <li>"quarterly at midnight"</li>
                                <li>"annually on December 25th"</li>
                            </ul>
                        </div>

                        <div class="nlp-category">
                            <h5>üéØ Complex Schedules</h5>
                            <ul>
                                <li>"every Monday and Thursday at 10am in January to April"</li>
                                <li>"weekdays at 10am in June to August"</li>
                            </ul>
                        </div>
                    </div>

                    <div class="nlp-section nlp-features">
                        <h4><i class="fas fa-magic" style="color: var(--secondary-color);"></i> Smart Features</h4>
                        <ul>
                            <li>‚ú® Word numbers: "five minutes", "couple of hours"</li>
                            <li>üìç Date ranges: "Monday to Friday", "January to March"</li>
                            <li>üïê Default time: Phrases without time default to midnight (00:00)</li>
                            <li>üíº Business terms: "business days", "weekdays"</li>
                        </ul>
                    </div>

                    <div class="nlp-section nlp-not-supported">
                        <h4><i class="fas fa-times-circle" style="color: var(--error-color);"></i> Not Supported</h4>
                        <ul>
                            <li>‚ùå Relative dates: "next Tuesday", "in 3 days"</li>
                            <li>‚ùå Conditional: "only on holidays", "except weekends"</li>
                            <li>üí° Tip: Be specific with days, times, and frequencies</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="js/app.js"></script>
</body>
</html>